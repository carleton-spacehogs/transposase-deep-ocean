#!/bin/bash

source activate tiara_euk # base environment has diamond

# working directory: /workspace/data/zhongj/Transposase_Project/particle_lifestyle/transposase-deep-ocean/identify_eukaryotes
# to run: ./MAGs_find_euk_contigs.sh

# for ocean in SP SAT NAT deep; do
# ARS  CPC  deep  EAC  IN  MED  NP  RS
for ocean in SP; do
	echo "currently working on $ocean ..." > logs/${ocean}.log
	bins=$(ls ../../bins/${ocean}/TOBG_${ocean}*.fna)
	bins="../../bins/SP/TOBG_SP-161.fna ../../bins/SP/TOBG_SP-162.fna ../../bins/SP/TOBG_SP-163.fna ../../bins/SP/TOBG_SP-164.fna ../../bins/SP/TOBG_SP-166.fna ../../bins/SP/TOBG_SP-167.fna ../../bins/SP/TOBG_SP-169.fna ../../bins/SP/TOBG_SP-16.fna ../../bins/SP/TOBG_SP-171.fna ../../bins/SP/TOBG_SP-173.fna ../../bins/SP/TOBG_SP-174.fna ../../bins/SP/TOBG_SP-176.fna ../../bins/SP/TOBG_SP-177.fna ../../bins/SP/TOBG_SP-179.fna ../../bins/SP/TOBG_SP-17.fna ../../bins/SP/TOBG_SP-180.fna ../../bins/SP/TOBG_SP-181.fna ../../bins/SP/TOBG_SP-182.fna ../../bins/SP/TOBG_SP-183.fna ../../bins/SP/TOBG_SP-184.fna ../../bins/SP/TOBG_SP-185.fna ../../bins/SP/TOBG_SP-186.fna ../../bins/SP/TOBG_SP-187.fna ../../bins/SP/TOBG_SP-188.fna ../../bins/SP/TOBG_SP-189.fna ../../bins/SP/TOBG_SP-18.fna ../../bins/SP/TOBG_SP-190.fna ../../bins/SP/TOBG_SP-191.fna ../../bins/SP/TOBG_SP-194.fna ../../bins/SP/TOBG_SP-195.fna ../../bins/SP/TOBG_SP-196.fna ../../bins/SP/TOBG_SP-197.fna ../../bins/SP/TOBG_SP-199.fna ../../bins/SP/TOBG_SP-19.fna ../../bins/SP/TOBG_SP-1.fna ../../bins/SP/TOBG_SP-201.fna ../../bins/SP/TOBG_SP-203.fna ../../bins/SP/TOBG_SP-204.fna ../../bins/SP/TOBG_SP-208.fna ../../bins/SP/TOBG_SP-209.fna ../../bins/SP/TOBG_SP-20.fna ../../bins/SP/TOBG_SP-210.fna ../../bins/SP/TOBG_SP-213.fna ../../bins/SP/TOBG_SP-216.fna ../../bins/SP/TOBG_SP-218.fna ../../bins/SP/TOBG_SP-219.fna ../../bins/SP/TOBG_SP-21.fna ../../bins/SP/TOBG_SP-222.fna ../../bins/SP/TOBG_SP-224.fna ../../bins/SP/TOBG_SP-22.fna ../../bins/SP/TOBG_SP-230.fna ../../bins/SP/TOBG_SP-232.fna ../../bins/SP/TOBG_SP-234.fna ../../bins/SP/TOBG_SP-236.fna ../../bins/SP/TOBG_SP-237.fna ../../bins/SP/TOBG_SP-238.fna ../../bins/SP/TOBG_SP-23.fna ../../bins/SP/TOBG_SP-240.fna ../../bins/SP/TOBG_SP-241.fna ../../bins/SP/TOBG_SP-242.fna ../../bins/SP/TOBG_SP-243.fna ../../bins/SP/TOBG_SP-244.fna ../../bins/SP/TOBG_SP-245.fna ../../bins/SP/TOBG_SP-246.fna ../../bins/SP/TOBG_SP-247.fna ../../bins/SP/TOBG_SP-248.fna ../../bins/SP/TOBG_SP-249.fna ../../bins/SP/TOBG_SP-24.fna ../../bins/SP/TOBG_SP-250.fna ../../bins/SP/TOBG_SP-251.fna ../../bins/SP/TOBG_SP-252.fna ../../bins/SP/TOBG_SP-253.fna ../../bins/SP/TOBG_SP-256.fna ../../bins/SP/TOBG_SP-257.fna ../../bins/SP/TOBG_SP-258.fna ../../bins/SP/TOBG_SP-259.fna ../../bins/SP/TOBG_SP-260.fna ../../bins/SP/TOBG_SP-262.fna ../../bins/SP/TOBG_SP-263.fna ../../bins/SP/TOBG_SP-267.fna ../../bins/SP/TOBG_SP-269.fna ../../bins/SP/TOBG_SP-26.fna ../../bins/SP/TOBG_SP-272.fna ../../bins/SP/TOBG_SP-274.fna ../../bins/SP/TOBG_SP-275.fna ../../bins/SP/TOBG_SP-276.fna ../../bins/SP/TOBG_SP-279.fna ../../bins/SP/TOBG_SP-27.fna ../../bins/SP/TOBG_SP-281.fna ../../bins/SP/TOBG_SP-282.fna ../../bins/SP/TOBG_SP-283.fna ../../bins/SP/TOBG_SP-284.fna ../../bins/SP/TOBG_SP-285.fna ../../bins/SP/TOBG_SP-288.fna ../../bins/SP/TOBG_SP-289.fna ../../bins/SP/TOBG_SP-28.fna ../../bins/SP/TOBG_SP-291.fna ../../bins/SP/TOBG_SP-292.fna ../../bins/SP/TOBG_SP-293.fna ../../bins/SP/TOBG_SP-295.fna ../../bins/SP/TOBG_SP-2970.fna ../../bins/SP/TOBG_SP-2972.fna ../../bins/SP/TOBG_SP-2975.fna ../../bins/SP/TOBG_SP-2976.fna ../../bins/SP/TOBG_SP-2978.fna ../../bins/SP/TOBG_SP-2979.fna ../../bins/SP/TOBG_SP-2982.fna ../../bins/SP/TOBG_SP-2983.fna ../../bins/SP/TOBG_SP-2985.fna ../../bins/SP/TOBG_SP-2989.fna ../../bins/SP/TOBG_SP-2999.fna ../../bins/SP/TOBG_SP-299.fna ../../bins/SP/TOBG_SP-29.fna ../../bins/SP/TOBG_SP-2.fna ../../bins/SP/TOBG_SP-3003.fna ../../bins/SP/TOBG_SP-3004.fna ../../bins/SP/TOBG_SP-3009.fna ../../bins/SP/TOBG_SP-3013.fna ../../bins/SP/TOBG_SP-3014.fna ../../bins/SP/TOBG_SP-3017.fna ../../bins/SP/TOBG_SP-3018.fna ../../bins/SP/TOBG_SP-301.fna ../../bins/SP/TOBG_SP-3021.fna ../../bins/SP/TOBG_SP-3023.fna ../../bins/SP/TOBG_SP-3024.fna ../../bins/SP/TOBG_SP-3025.fna ../../bins/SP/TOBG_SP-3028.fna ../../bins/SP/TOBG_SP-3029.fna ../../bins/SP/TOBG_SP-302.fna ../../bins/SP/TOBG_SP-3030.fna ../../bins/SP/TOBG_SP-3031.fna ../../bins/SP/TOBG_SP-3035.fna ../../bins/SP/TOBG_SP-3036.fna ../../bins/SP/TOBG_SP-3037.fna ../../bins/SP/TOBG_SP-303.fna ../../bins/SP/TOBG_SP-3040.fna ../../bins/SP/TOBG_SP-3041.fna ../../bins/SP/TOBG_SP-3044.fna ../../bins/SP/TOBG_SP-3046.fna ../../bins/SP/TOBG_SP-3048.fna ../../bins/SP/TOBG_SP-304.fna ../../bins/SP/TOBG_SP-3050.fna ../../bins/SP/TOBG_SP-3054.fna ../../bins/SP/TOBG_SP-3055.fna ../../bins/SP/TOBG_SP-3058.fna ../../bins/SP/TOBG_SP-3059.fna ../../bins/SP/TOBG_SP-305.fna ../../bins/SP/TOBG_SP-3060.fna ../../bins/SP/TOBG_SP-3061.fna ../../bins/SP/TOBG_SP-3062.fna ../../bins/SP/TOBG_SP-3063.fna ../../bins/SP/TOBG_SP-3065.fna ../../bins/SP/TOBG_SP-3066.fna ../../bins/SP/TOBG_SP-3068.fna ../../bins/SP/TOBG_SP-3069.fna ../../bins/SP/TOBG_SP-306.fna ../../bins/SP/TOBG_SP-3070.fna ../../bins/SP/TOBG_SP-3072.fna ../../bins/SP/TOBG_SP-3073.fna ../../bins/SP/TOBG_SP-3074.fna ../../bins/SP/TOBG_SP-3083.fna ../../bins/SP/TOBG_SP-3084.fna ../../bins/SP/TOBG_SP-3094.fna ../../bins/SP/TOBG_SP-3097.fna ../../bins/SP/TOBG_SP-3098.fna ../../bins/SP/TOBG_SP-30.fna ../../bins/SP/TOBG_SP-3103.fna ../../bins/SP/TOBG_SP-3105.fna ../../bins/SP/TOBG_SP-3106.fna ../../bins/SP/TOBG_SP-3107.fna ../../bins/SP/TOBG_SP-3109.fna ../../bins/SP/TOBG_SP-3110.fna ../../bins/SP/TOBG_SP-3111.fna ../../bins/SP/TOBG_SP-3112.fna ../../bins/SP/TOBG_SP-3118.fna ../../bins/SP/TOBG_SP-3119.fna ../../bins/SP/TOBG_SP-311.fna ../../bins/SP/TOBG_SP-312.fna ../../bins/SP/TOBG_SP-316.fna ../../bins/SP/TOBG_SP-317.fna ../../bins/SP/TOBG_SP-319.fna ../../bins/SP/TOBG_SP-31.fna ../../bins/SP/TOBG_SP-320.fna ../../bins/SP/TOBG_SP-328.fna ../../bins/SP/TOBG_SP-32.fna ../../bins/SP/TOBG_SP-330.fna ../../bins/SP/TOBG_SP-331.fna ../../bins/SP/TOBG_SP-332.fna ../../bins/SP/TOBG_SP-333.fna ../../bins/SP/TOBG_SP-334.fna ../../bins/SP/TOBG_SP-335.fna ../../bins/SP/TOBG_SP-337.fna ../../bins/SP/TOBG_SP-340.fna ../../bins/SP/TOBG_SP-341.fna ../../bins/SP/TOBG_SP-342.fna ../../bins/SP/TOBG_SP-343.fna ../../bins/SP/TOBG_SP-344.fna ../../bins/SP/TOBG_SP-346.fna ../../bins/SP/TOBG_SP-347.fna ../../bins/SP/TOBG_SP-348.fna ../../bins/SP/TOBG_SP-349.fna ../../bins/SP/TOBG_SP-34.fna ../../bins/SP/TOBG_SP-350.fna ../../bins/SP/TOBG_SP-351.fna ../../bins/SP/TOBG_SP-354.fna ../../bins/SP/TOBG_SP-358.fna ../../bins/SP/TOBG_SP-35.fna ../../bins/SP/TOBG_SP-360.fna ../../bins/SP/TOBG_SP-362.fna ../../bins/SP/TOBG_SP-37.fna ../../bins/SP/TOBG_SP-38.fna ../../bins/SP/TOBG_SP-3966.fna ../../bins/SP/TOBG_SP-3971.fna ../../bins/SP/TOBG_SP-3982.fna ../../bins/SP/TOBG_SP-3983.fna ../../bins/SP/TOBG_SP-3984.fna ../../bins/SP/TOBG_SP-3992.fna ../../bins/SP/TOBG_SP-39.fna ../../bins/SP/TOBG_SP-3.fna ../../bins/SP/TOBG_SP-4016.fna ../../bins/SP/TOBG_SP-4023.fna ../../bins/SP/TOBG_SP-4027.fna ../../bins/SP/TOBG_SP-4038.fna ../../bins/SP/TOBG_SP-4044.fna ../../bins/SP/TOBG_SP-4045.fna ../../bins/SP/TOBG_SP-4060.fna ../../bins/SP/TOBG_SP-4145.fna ../../bins/SP/TOBG_SP-4154.fna ../../bins/SP/TOBG_SP-4189.fna ../../bins/SP/TOBG_SP-4220.fna ../../bins/SP/TOBG_SP-4225.fna ../../bins/SP/TOBG_SP-4275.fna ../../bins/SP/TOBG_SP-4288.fna ../../bins/SP/TOBG_SP-4300.fna ../../bins/SP/TOBG_SP-4355.fna ../../bins/SP/TOBG_SP-4356.fna ../../bins/SP/TOBG_SP-4360.fna ../../bins/SP/TOBG_SP-4365.fna ../../bins/SP/TOBG_SP-4366.fna ../../bins/SP/TOBG_SP-4369.fna ../../bins/SP/TOBG_SP-4379.fna ../../bins/SP/TOBG_SP-4380.fna ../../bins/SP/TOBG_SP-4387.fna ../../bins/SP/TOBG_SP-4388.fna ../../bins/SP/TOBG_SP-43.fna ../../bins/SP/TOBG_SP-45.fna ../../bins/SP/TOBG_SP-47.fna ../../bins/SP/TOBG_SP-486.fna ../../bins/SP/TOBG_SP-49.fna ../../bins/SP/TOBG_SP-4.fna ../../bins/SP/TOBG_SP-51.fna ../../bins/SP/TOBG_SP-52.fna ../../bins/SP/TOBG_SP-56.fna ../../bins/SP/TOBG_SP-57.fna ../../bins/SP/TOBG_SP-58.fna ../../bins/SP/TOBG_SP-59.fna ../../bins/SP/TOBG_SP-5.fna ../../bins/SP/TOBG_SP-60.fna ../../bins/SP/TOBG_SP-61.fna ../../bins/SP/TOBG_SP-62.fna ../../bins/SP/TOBG_SP-63.fna ../../bins/SP/TOBG_SP-64.fna ../../bins/SP/TOBG_SP-69.fna ../../bins/SP/TOBG_SP-6.fna ../../bins/SP/TOBG_SP-70.fna ../../bins/SP/TOBG_SP-71.fna ../../bins/SP/TOBG_SP-73.fna ../../bins/SP/TOBG_SP-74.fna ../../bins/SP/TOBG_SP-75.fna ../../bins/SP/TOBG_SP-76.fna ../../bins/SP/TOBG_SP-78.fna ../../bins/SP/TOBG_SP-81.fna ../../bins/SP/TOBG_SP-82.fna ../../bins/SP/TOBG_SP-84.fna ../../bins/SP/TOBG_SP-85.fna ../../bins/SP/TOBG_SP-86.fna ../../bins/SP/TOBG_SP-88.fna ../../bins/SP/TOBG_SP-89.fna ../../bins/SP/TOBG_SP-8.fna ../../bins/SP/TOBG_SP-93.fna ../../bins/SP/TOBG_SP-94.fna ../../bins/SP/TOBG_SP-96.fna ../../bins/SP/TOBG_SP-97.fna ../../bins/SP/TOBG_SP-98.fna"
	# bins=$(ls ../../bins/${ocean}/mp-deep_mag-*.fasta)
	for MAG in $bins; do
		MAG_name=$(echo $MAG | awk -F"/" '{print $5}')
		outf="../../bins/${ocean}/${MAG_name%%.fna}/tiara_euk.txt"
		# outf="../../bins/${ocean}/${MAG_name%%.fasta}/tiara_euk.txt"
		echo tiara -i $MAG -o $outf -t 10 >> logs/${ocean}.log
		~/.local/bin/tiara -i $MAG -o $outf -t 10
	done
done

